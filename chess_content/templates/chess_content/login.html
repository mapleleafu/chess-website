{% extends "chess_content/layout.html" %}
{% load static %}

{% block title %} Login {% endblock %}

{% block body %}

<div class="create_list">
    <h2 class="register_text">Login</h2>
    <form action="{% url 'login' %}" method="post">
        {% csrf_token %}
        <div class="form-group">
            <input autofocus class="form-control" type="text" name="username" placeholder="Username">
        </div>
        <div class="form-group" style="position: relative;">
            <input id="password" class="form-control" type="password" name="password" placeholder="Password">
            <img src="{% static 'chess_content/assets/login-register/eye-slash.svg' %}" id="togglePassword" style="position: absolute; right: 10px; top: 8px; cursor: pointer; height: 20px; width: 20px; color: white;"/>
        </div>
        <input class="btn register" type="submit" value="Login">
    </form>
    <span class="have_account_text">Don't have an account? <a class="a_link" href="{% url 'register' %}">Register here.</a></span>
</div>

<script>
    const togglePassword = document.querySelector("#togglePassword");
    const password = document.querySelector("#password");

    togglePassword.addEventListener("click", function () {
        // Toggle the type attribute
        const currentType = password.getAttribute("type");
        const newType = currentType === "password" ? "text" : "password";
        password.setAttribute("type", newType);

        // Toggle the icon based on the new type
        if (newType === "text") {
            togglePassword.setAttribute("src", "{% static 'chess_content/assets/login-register/eye.svg' %}");
        } else {
            togglePassword.setAttribute("src", "{% static 'chess_content/assets/login-register/eye-slash.svg' %}");
        }
    });

</script>

{% endblock %}
